<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Mi App con Supabase</title> <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> <style> /* Tus estilos CSS aquí */ </style> </head> <body> <div class="container"> <h1>Mi App Sincronizada</h1> <!-- Tu interfaz de usuario aquí --> </div> <script> // Configuración de Supabase const supabaseUrl = 'https://tu-proyecto.supabase.co'; const supabaseKey = 'tu-clave-publica'; const supabase = window.supabase.createClient(supabaseUrl, supabaseKey); // Función para guardar datos async function guardarDato(valor) { const dispositivo = navigator.userAgent.match(/Android/i) ? 'Android' : 'Ordenador'; const { data, error } = await supabase .from('datos_sincronizados') .insert([{ valor, dispositivo }]); if (error) { console.error('Error guardando dato:', error); alert('Error: ' + error.message); } else { console.log('Dato guardado:', data); alert('Dato guardado correctamente'); } } // Función para leer datos en tiempo real function suscribirDatos() { const subscription = supabase .from('datos_sincronizados') .on('INSERT', payload => { // Actualizar la interfaz con el nuevo dato console.log('Nuevo dato recibido:', payload.new); alert('Nuevo dato sincronizado: ' + payload.new.valor); }) .subscribe(); return subscription; } // Iniciar suscripción cuando la página cargue document.addEventListener('DOMContentLoaded', function() { suscribirDatos(); }); </script> </body> </html>